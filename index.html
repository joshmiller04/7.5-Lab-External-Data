<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11ty Lab Project</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800">
    <nav class="p-4 bg-white shadow-md">
        <ul class="flex space-x-4">
            <li><a href="/" class="text-blue-500 hover:underline">Home</a></li>
            <li><a href="/write-up.html" class="text-blue-500 hover:underline">AI Tool Write-Up</a></li>
        </ul>
    </nav>

    <main class="p-8" x-data="fetchData">
        <h1 class="text-2xl font-bold mb-4">API Data Rendered with Alpine.js</h1>
        <div class="grid grid-cols-2 gap-4">
            <div class="p-4 bg-white rounded shadow" x-for="item in data1" :key="item.id">
                <h2 class="font-semibold" x-text="item.name"></h2>
                <p x-text="item.description"></p>
            </div>
            <div class="p-4 bg-white rounded shadow" x-for="item in data2" :key="item.id">
                <h2 class="font-semibold" x-text="item.title"></h2>
                <p x-text="item.body"></p>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('fetchData', () => ({
                data1: [],
                data2: [],
                async init() {
                    console.log('Fetching data...');
                    try {
                        const response1 = await fetch('https://jsonplaceholder.typicode.com/users');
                        if (!response1.ok) {
                            throw new Error('Failed to fetch users data');
                        }
                        this.data1 = await response1.json();
                        console.log('Data1 loaded:', this.data1);
    
                        const response2 = await fetch('https://jsonplaceholder.typicode.com/posts');
                        if (!response2.ok) {
                            throw new Error('Failed to fetch posts data');
                        }
                        this.data2 = await response2.json();
                        console.log('Data2 loaded:', this.data2);
                    } catch (error) {
                        console.error('Error fetching data:', error);
                    }
                }
            }));
        });
    </script>
    
</body>
</html>
